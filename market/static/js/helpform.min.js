$(document).ready(function(){$("#helpForm").click(function(e){if(e.preventDefault(),$("#helpForm").css("visibility","hidden"),$("#preloader").css("visibility","visible"),forma_email=$("#asuntoSelect").val(),"Pagos-Transferencias"==forma_email){var i=document.getElementById("filepago"),s=new FileReader;s.onload=function(){var e=s.result,l=i.files[0].name,a=i.files[0].type;$.post("/help/form/",{csrfmiddlewaretoken:$("#token")[0].children.defaultValue,email:$("#ejemplo_password_3").val(),asunto:$("#asuntoSelect").val(),mensaje:$("#messageText").val(),imagen:e,nombre_imagen:l,extension:a,codigo:$("#codigo1").val()}).done(function(e){if($("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),200==e.code){swal("Mensaje enviado con Éxito"," ","success");setTimeout(function(){location.reload(!0)},1e3)}else swal(e.error," ","warning")}).fail(function(e){console.log(e.responseText)})}}if($("#preloader").css("visibility","visible"),$("#ejemplo_password_3").val().length<1)return swal("Debe ingresar un Email"," ","warning"),$("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),!1;var l;if(!(l=$("#ejemplo_password_3").val(),/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l)))return swal("Email incorrecto"," ","warning"),$("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),!1;if($("#messageText").val().length<1)return swal("Debe ingresar un Mensaje"," ","warning"),$("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),!1;if("Pagos-Transferencias"==forma_email&&$("#codigo1").val().length<1)return swal("Debe ingresar un Código de Compra"," ","warning"),$("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),!1;if($("#asuntoSelect").val().length<1)return swal("Debe seleccionar un Asunto"," ","warning"),$("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),!1;if("Pagos-Transferencias"==forma_email){if(!(i.files.length>0))return swal("Debe seleccionar un achivo tipo imagen"," ","warning"),$("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),!1;if(!(i.files&&"image/png"==i.files[0].type||"image/jpeg"==i.files[0].type))return swal("Debe seleccionar un achivo tipo imagen"," ","warning"),$("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),!1;s.readAsDataURL(i.files[0])}"Pagos-Transferencias"!=forma_email&&$.post("/help/form/",{csrfmiddlewaretoken:$("#token")[0].children.defaultValue,email:$("#ejemplo_password_3").val(),asunto:$("#asuntoSelect").val(),mensaje:$("#messageText").val()}).done(function(e){if($("#helpForm").css("visibility","visible"),$("#preloader").css("visibility","hidden"),200==e.code){swal("Mensaje enviado con Éxito"," ","success");setTimeout(function(){location.reload(!0)},1e3)}else swal(e.error," ","warning")}).fail(function(e){console.log(e.responseText)})}),$("#asuntoSelect").change(function(){"Pagos-Transferencias"!=$("#asuntoSelect").val()?($("#ccompra").css("visibility","hidden"),$("#ccompra").css("display","none"),$("#xcompra").css("visibility","hidden"),$("#xcompra").css("display","none")):($("#ccompra").css("visibility","visible"),$("#ccompra").css("display","grid"),$("#xcompra").css("visibility","visible"),$("#xcompra").css("display","grid"))})});
